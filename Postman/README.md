<p align="center">
    <img src="https://github.com/mahyazz/web_workshop/Postman/postman.svg" alt="Postman Logo">
</p>

<p align="center">
    تحقیق پایانی برنامه سازی وب، دانشگاه صنعتی شریف
    <br/>
    ارائه دهنده درس: جناب آقای یحیی پورسلطانی
    <br/>
    نویسندگان: محیا ضرابی‌زاده، زهرا تهامی
</p>

<div dir="rtl">

## مقدمه

پستمن ابزاری قدرتمند و چندکاره برای توسعه، آزمون و همکاری در API است. این ابزار به توسعه‌دهندگان پلتفرمی جامع برای طراحی، آزمون، مستندسازی و اشتراک‌گذاری API‌ها به طور موثر ارائه می‌دهد. بیایید به معرفی پستمن بپردازیم و نحوه شروع کار با این ابزار ضروری برای توسعه API را بررسی کنیم.

## پستمن چیست؟

پستمن یک ابزار آزمون API (Application Programming Interface) است که به توسعه‌دهندگان اجازه می‌دهد تا API‌ها را طراحی، آزمون، مستندسازی و همکاری کنند[1][3]. این ابزار یک رابط کاربری گرافیکی کاربرپسند برای ارسال درخواست‌های HTTP و تحلیل پاسخ‌ها فراهم می‌کند، که کار با API‌ها را در پلتفرم‌های مختلف از جمله ویندوز، مک‌او‌اس و لینوکس آسان‌تر می‌سازد[3].

برخی از ویژگی‌های کلیدی پستمن شامل موارد زیر است:
* ارسال و مشاهده درخواست‌ها و پاسخ‌های HTTP
* ساخت و آزمون انواع مختلف درخواست‌های API (REST، SOAP، HTTP)
* ایجاد و مدیریت مجموعه‌های درخواست‌های API
* خودکارسازی آزمون API با اسکریپت‌ها و مجموعه‌های آزمون
* تولید مستندات API
* همکاری با اعضای تیم در پروژه‌های API
* نظارت بر عملکرد و سلامت API

## شروع کار با پستمن

برای شروع استفاده از پستمن، مراحل زیر را دنبال کنید:
1. دانلود و نصب پستمن از وبسایت رسمی.
2. ایجاد حساب کاربری پستمن (اختیاری اما توصیه شده برای همگام‌سازی و همکاری).
3. اجرای برنامه پستمن.

پس از باز کردن پستمن، رابط اصلی که شامل چند بخش کلیدی است را مشاهده خواهید کرد[3]:
* هدر: شامل گزینه‌هایی برای ایجاد درخواست‌های جدید، وارد کردن داده‌ها و دسترسی به ویژگی‌های دیگر.
* نوار کناری: نمایش مجموعه‌ها، محیط‌ها و عناصر سازماندهی دیگر.
* سازنده: ناحیه اصلی که در آن درخواست‌ها را می‌سازید و ارسال می‌کنید.
* پاسخ: نمایش نتایج درخواست‌های API شما.

### ارسال اولین درخواست

بیایید با ارسال یک درخواست GET ساده به یک API عمومی شروع کنیم. از API JSONPlaceholder استفاده خواهیم کرد که داده‌های جعلی برای اهداف آزمایشی فراهم می‌کند.

1. بر روی دکمه "+" در هدر کلیک کنید تا یک درخواست جدید ایجاد شود.
2. در فیلد URL درخواست، وارد کنید: https://jsonplaceholder.typicode.com/posts/1 اطمینان حاصل کنید که روش HTTP به GET تنظیم شده است.
3. بر روی دکمه "Send" کلیک کنید.

باید پاسخی در پانل پایین مشاهده کنید که به این شکل باشد:

<div dir="ltr">

```
{
  "userId": 1,
  "id": 1,
  "title": "sunt aut facere repellat provident occaecati excepturi optio reprehenderit",
  "body": "quia et suscipit\nsuscipit recusandae consequuntur expedita et cum\nreprehenderit molestiae ut ut quas totam\nnostrum rerum est autem sunt rem eveniet architecto"
}
```

</div>

تبریک! شما اولین درخواست API خود را با استفاده از پستمن ارسال کرده‌اید.

### کار با مجموعه‌ها

مجموعه‌ها در پستمن به شما امکان می‌دهند درخواست‌های مرتبط با API را سازماندهی و گروه‌بندی کنید[1]. این ویژگی به خصوص برای مدیریت API‌های پیچیده یا پروژه‌های متعدد مفید است.

برای ایجاد یک مجموعه:
1. بر روی "Collections" در نوار کناری کلیک کنید.
2. بر روی دکمه "+" کلیک کنید تا یک مجموعه جدید ایجاد شود.
3. مجموعه خود را نام‌گذاری کنید (مثلاً "JSONPlaceholder API").
4. بر روی "Create" کلیک کنید تا مجموعه ذخیره شود.

اکنون می‌توانید درخواست‌هایتان را به این مجموعه اضافه کنید:
1. بر روی نام مجموعه کلیک راست کنید.
2. گزینه "Add request" را انتخاب کنید.
3. درخواست خود را نام‌گذاری کنید (مثلاً "Get Single Post").
4. درخواست را همانطور که قبلاً تنظیم کردیم پیکربندی کنید.
5. بر روی "Save" کلیک کنید تا درخواست به مجموعه اضافه شود.

### استفاده از متغیرهای محیطی

متغیرهای محیطی در پستمن به شما امکان می‌دهند مقادیر را در درخواست‌های متعدد ذخیره و استفاده کنید[1]. این ویژگی به خصوص برای مدیریت محیط‌های مختلف (مثلاً توسعه، آزمون، تولید) یا ذخیره توکن‌های احراز هویت مفید است.

برای ایجاد یک محیط:
1. بر روی "Environments" در نوار کناری کلیک کنید.
2. بر روی دکمه "+" کلیک کنید تا یک محیط جدید ایجاد شود.
3. محیط خود را نام‌گذاری کنید (مثلاً "JSONPlaceholder").
4. یک متغیر به نام "base_url" با مقدار "https://jsonplaceholder.typicode.com" اضافه کنید.
5. بر روی "Save" کلیک کنید تا محیط ایجاد شود.

اکنون می‌توانید از این متغیر در درخواست‌های خود استفاده کنید:
1. محیط "JSONPlaceholder" را از منوی کشویی در گوشه بالا سمت راست انتخاب کنید.
2. در URL درخواست خود، آدرس پایه را با {{base_url}} جایگزین کنید.
3. URL درخواست شما باید به این شکل باشد: {{base_url}}/posts/1
4. هنگام ارسال درخواست، پستمن به طور خودکار {{base_url}} را با مقدار ذخیره شده در محیط جایگزین خواهد کرد.

### نوشتن تست‌ها

پستمن به شما امکان می‌دهد برای درخواست‌های API خود آزمون‌هایی با استفاده از جاوااسکریپت بنویسید[1]. این آزمون‌ها می‌توانند داده‌های پاسخ را تأیید کنند، کدهای وضعیت را بررسی کنند و سایر اعتبارسنجی‌ها را انجام دهند.

بیایید یک آزمون ساده به درخواست "Get Single Post" اضافه کنیم:

1. در سازنده درخواست، بر روی تب "Tests" کلیک کنید.
2. کد زیر را اضافه کنید:
<div dir="ltr">

```
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Response has correct user ID", function () {
    var jsonData = pm.response.json();
    pm.expect(jsonData.userId).to.eql(1);
});

```

</div>

3. درخواست را ارسال کنید.
4. تب "Test Results" را در بخش پاسخ بررسی کنید تا نتایج آزمون را ببینید.

این آزمون‌ها تأیید می‌کنند که کد وضعیت پاسخ 200 است و userId در پاسخ برابر با 1 است.

### خودکارسازی جریان‌های کاری با نیومن

نیومن همراه خط فرمان پستمن است که به شما امکان می‌دهد مجموعه‌های خود را از خط فرمان اجرا و آزمون کنید[1]. این ویژگی به خصوص برای ادغام آزمون‌های پستمن در خط لوله CI/CD مفید است.

برای استفاده از نیومن:
1. Node.js را روی سیستم خود نصب کنید.
2. یک ترمینال باز کنید و دستور زیر را اجرا کنید: npm install -g newman
3. مجموعه خود را از پستمن صادر کنید (بر روی مجموعه کلیک راست کرده و "Export" را انتخاب کنید).
4. در ترمینال، به دایرکتوری که مجموعه صادر شده شما در آن قرار دارد بروید.
5. دستور زیر را اجرا کنید:

<div dir="ltr">

```
newman run YourCollection.json

```

</div>

6. نام YourCollection.json را با نام فایل مجموعه صادر شده خود جایگزین کنید.

### مستندسازی API

پستمن می‌تواند به طور خودکار مستنداتی برای API شما بر اساس مجموعه‌های شما تولید کند[1]. این ویژگی به حفظ مستندات API به روز و دسترسی آسان کمک می‌کند.

برای تولید مستندات:
1. بر روی مجموعه خود در نوار کناری کلیک کنید.
2. بر روی دکمه "View documentation" در پانل سمت راست کلیک کنید.
3. مستندات تولید شده را مرور کنید.
4. اگر می‌خواهید این مستندات را به اشتراک بگذارید، بر روی "Publish" در گوشه بالا سمت راست کلیک کنید.

### همکاری با فضاهای کاری تیمی

پستمن فضاهای کاری تیمی را برای همکاری در پروژه‌های API فراهم می‌کند[1]. برای شروع همکاری:
1. بر روی "Workspaces" در هدر کلیک کنید.
2. گزینه "Create Workspace" را انتخاب کنید.
3. "Team" را به عنوان نوع فضای کاری انتخاب کنید.
4. فضای کاری خود را نام‌گذاری کرده و اعضای تیم را دعوت کنید.
5. مجموعه‌ها و محیط‌های خود را به این فضای کاری منتقل کنید.

اکنون تیم شما می‌تواند با هم در پروژه‌های API یکسان کار کند، مجموعه‌ها، محیط‌ها و منابع دیگر را به اشتراک بگذارد.

### نتیجه‌گیری

پستمن ابزاری ارزشمند برای توسعه و آزمون API است. این مقدمه اصول اولیه شروع کار با پستمن را پوشش می‌دهد، از جمله ارسال درخواست‌ها، سازماندهی مجموعه‌ها، استفاده از متغیرهای محیطی، نوشتن آزمون‌ها، خودکارسازی جریان‌های کاری با نیومن، تولید مستندات و همکاری با فضاهای کاری تیمی.

کرد. این ابزارها می‌توانند فرآیند توسعه API شما را بیشتر بهبود ببخشند و همکاری درون تیمی را افزایش دهند.

به یاد داشته باشید، تمرین کلید تسلط بر پستمن است. با انواع مختلف درخواست‌ها آزمایش کنید، آزمون‌های پیچیده‌تر بنویسید و ویژگی‌های مختلف پستمن را بررسی کنید. با زمان و تجربه، قادر خواهید بود پستمن را به طور کامل بهره‌برداری کنید و فرآیند توسعه API خود را کارآمدتر و مؤثرتر کنید.

### مراجع

[1] https://learning.postman.com/docs/introduction/overview/
[2] https://www.coursehero.com/file/37994877/Postman-Essaydocx/
[3] https://www.tutorialspoint.com/postman/postman_introduction.htm
[4] https://www.coursehero.com/file/66153937/Essay-4-Postman-Epilogue2docx/
[5] https://learning.postman.com/docs/getting-started/basics/postman-basics/